{"version":3,"sources":["shadow/util.cljs"],"mappings":"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","names":["shadow.util/console-friendly","a","cljs.core/Keyword","cljs.core/PROTOCOL_SENTINEL","cljs.core/native-satisfies?","cljs.core/IPrintWithWriter","cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic","var_args","args__4736__auto__","len__4730__auto__","i__4731__auto__","argseq__4737__auto__","cljs.core/IndexedSeq","shadow.util/go!","seq58462","self__4718__auto__","cljs.core/seq","body","cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2","shadow.util/console?","js/console","G__58503","shadow.util/log","args-arr__4751__auto__","argseq__4752__auto__","seq58490","G__58493","cljs.core/first","cljs.core/next","G__58494","G__58495","G__58496","G__58500","G__58501","self__4717__auto__","a1","a2","a3","a4","a5","a6","more","shadow.util/remove-from-vector","coll","key","cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2","cljs.core/vector","cljs.core.reduce.cljs$core$IFn$_invoke$arity$3","p__58534","vec__58535","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","v","idx","item","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2","cljs.core/transient","cljs.core/persistent!","shadow.util/remove-item-from-coll","value","cljs.core/IVector","cljs.core/IMap","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2","cljs.core/ISet","cljs.core.disj.cljs$core$IFn$_invoke$arity$2"],"sourcesContent":["(ns shadow.util\n  (:require-macros [shadow.util :as m])\n  (:require [cljs.core.async :as async])) ;; not really used here, but the go! macro needs this\n\n(defn console-friendly [a]\n  (cond\n   (nil? a) \"nil\"\n   (keyword? a) (str a)\n   (string? a) a\n   (number? a) a\n   (satisfies? IPrintWithWriter a) (pr-str a)\n   :else a\n   ))\n\n(defn go! [& body]\n  (throw (ex-info \"go! is a macro\" {})))\n\n(def console? (exists? js/console))\n\n(defn log\n  ([a1]\n     (when console?\n       (.log js/console\n             (console-friendly a1))))\n  ([a1 a2]\n     (when console?\n       (.log js/console\n             (console-friendly a1)\n             (console-friendly a2))))\n  ([a1 a2 a3]\n     (when console?\n       (.log js/console\n             (console-friendly a1)\n             (console-friendly a2)\n             (console-friendly a3))))\n  ([a1 a2 a3 a4]\n     (when console?\n       (.log js/console\n             (console-friendly a1)\n             (console-friendly a2)\n             (console-friendly a3)\n             (console-friendly a4))))\n  ([a1 a2 a3 a4 a5]\n     (when console?\n       (.log js/console\n             (console-friendly a1)\n             (console-friendly a2)\n             (console-friendly a3)\n             (console-friendly a4)\n             (console-friendly a5))))\n  ([a1 a2 a3 a4 a5 a6]\n     (when console?\n       (.log js/console\n             (console-friendly a1)\n             (console-friendly a2)\n             (console-friendly a3)\n             (console-friendly a4)\n             (console-friendly a5)\n             (console-friendly a6))))\n  ([a1 a2 a3 a4 a5 a6 & more]\n     (when console?\n       (.log js/console\n             (console-friendly a1)\n             (console-friendly a2)\n             (console-friendly a3)\n             (console-friendly a4)\n             (console-friendly a5)\n             (console-friendly a6)\n             \"more:\"\n             (pr-str more)))))\n\n;; HAX\n(comment\n  (def default-ex-info js/cljs.core.ex-info)\n\n  (set! (.. js/cljs -core -ex-info)\n    (fn shadow-ex-info\n      ([msg map]\n       (m/log \"EX-INFO:\" msg map)\n       (default-ex-info msg map))\n      ([msg map cause]\n       (m/log \"EX-INFO:\" msg map cause)\n       (default-ex-info msg map cause))\n      )))\n\n\n(defn remove-from-vector [coll key]\n  (->> (map-indexed vector coll)\n       (reduce (fn [v [idx item]]\n                 (if (= idx key)\n                   v\n                   (conj! v item)))\n               (transient []))\n       (persistent!)))\n\n(defn remove-item-from-coll [coll key value]\n  (cond\n   (satisfies? IVector coll)\n   (remove-from-vector coll key)\n   (satisfies? IMap coll)\n   (dissoc coll key)\n   (satisfies? ISet coll)\n   (disj coll value)\n   :else (throw (ex-info \"unknown coll type\" {:coll coll :key key :value value}))\n   ))\n"]}