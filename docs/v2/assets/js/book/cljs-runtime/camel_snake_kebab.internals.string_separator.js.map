{"version":3,"sources":["camel_snake_kebab/internals/string_separator.cljc"],"mappings":"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","names":["x__4433__auto__","m__4434__auto__","camel-snake-kebab.internals.string-separator/split","goog/typeOf","m__4431__auto__","cljs.core/missing-protocol","camel-snake-kebab.internals.string-separator/StringSeparator","this","s","cljs.core/PROTOCOL_SENTINEL","goog.object/set","G__63223","G__63224","G__63225","js/RegExp","cljs.core/seq","camel-snake-kebab.internals.string-separator/classify-char","c","G__63233","camel-snake-kebab.internals.string-separator/generic-split","ss","cs","cljs.core.mapv.cljs$core$IFn$_invoke$arity$2","result","cljs.core/transient","start","current","next","result+new","end","cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2","cljs.core/count","or__4131__auto__","cljs.core/persistent!","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core.nth.cljs$core$IFn$_invoke$arity$2","vec__63251","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","a","b","cljs.core.subvec.cljs$core$IFn$_invoke$arity$2","cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2","camel-snake-kebab.internals.string-separator/generic-separator","js/camel-snake-kebab","js/camel-snake-kebab.internals","js/camel-snake-kebab.internals.string-separator","js/camel-snake-kebab.internals.string-separator.t_camel_snake_kebab$internals$string_separator63263","camel-snake-kebab.internals.string-separator/t_camel_snake_kebab$internals$string_separator63263","_63265","meta63264","this__4374__auto__","writer__4375__auto__","opt__4376__auto__","cljs.core/-write","camel-snake-kebab.internals.string-separator/->t_camel_snake_kebab$internals$string_separator63263","_"],"sourcesContent":["(ns camel-snake-kebab.internals.string-separator\n  #?(:clj (:import (java.util.regex Pattern))))\n\n#?(:clj (set! *warn-on-reflection* true))\n\n(defprotocol StringSeparator\n  (split [this s] \": StringSeparator -> String -> NonEmptySeq[String]\"))\n\n#?(:clj\n   (letfn [(split-by-pattern [^Pattern p, ^String s]\n             (seq (.split p s)))\n           ;; These could be optimized e.g. by using StringUtils in Apache Commons:\n           (split-by-string [^String p, ^String s]\n             (split-by-pattern (-> p Pattern/quote Pattern/compile) s))\n           (split-by-char [^Character p, ^String s]\n             (split-by-string (String/valueOf p) s))]\n     (extend Pattern   StringSeparator {:split split-by-pattern})\n     (extend String    StringSeparator {:split split-by-string})\n     (extend Character StringSeparator {:split split-by-char}))\n\n   :cljs\n   (extend-protocol StringSeparator\n     ;; Notes:\n     ;; * Characters are just strings in ClojureScript.\n     ;; * Using js/RegExp generates a warning, but what's the right way?\n\n     js/RegExp\n     (split [this s] (seq (.split s this)))\n\n     string\n     (split [this s] (seq (.split s this)))))\n\n(defn classify-char [c]\n  (case c\n    (\\0 \\1 \\2 \\3 \\4 \\5 \\6 \\7 \\8 \\9) :number\n    (\\- \\_ \\space \\tab \\newline \\o013 \\formfeed \\return) :whitespace\n    (\\a \\b \\c \\d \\e \\f \\g \\h \\i \\j \\k \\l \\m \\n \\o \\p \\q \\r \\s \\t \\u \\v \\w \\x \\y \\z) :lower\n    (\\A \\B \\C \\D \\E \\F \\G \\H \\I \\J \\K \\L \\M \\N \\O \\P \\Q \\R \\S \\T \\U \\V \\W \\X \\Y \\Z) :upper\n    :other))\n\n(defn generic-split [ss]\n  (let [cs (mapv classify-char ss)]\n    (loop [result (transient []), start 0, current 0]\n      (let [next (inc current)\n            result+new (fn [end]\n                         (if (> end start)\n                           (conj! result (.substring ^String ss start end))\n                           result))]\n        (cond (>= current (count ss))\n              (or (seq (persistent! (result+new current)))\n                  ;; Return this instead of an empty seq:\n                  [\"\"])\n\n              (= (nth cs current) :whitespace)\n              (recur (result+new current) next next)\n\n              (let [[a b c] (subvec cs current)]\n                ;; This expression is not pretty,\n                ;; but it compiles down to sane JavaScript.\n                (or (and (not= a :upper)  (= b :upper))\n                    (and (not= a :number) (= b :number))\n                    (and (= a :upper) (= b :upper) (= c :lower))))\n              (recur (result+new next) next next)\n\n              :else\n              (recur result start next))))))\n\n(def generic-separator\n  (reify StringSeparator\n    (split [_ s] (generic-split s))))\n"]}